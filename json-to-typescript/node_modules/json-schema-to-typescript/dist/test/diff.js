"use strict";
const cli_color_1 = require('cli-color');
const genericDiff = require('generic-diff');
function diff(a, b) {
    return genericDiff(b, a).map((edit) => {
        if (edit.added) {
            return cli_color_1.green(showHiddenChars(edit.items.join('')));
        }
        else if (edit.removed) {
            return cli_color_1.red(showHiddenChars(edit.items.join('')));
        }
        else {
            return edit.items.join('');
        }
    }).join('');
}
exports.diff = diff;
/**
 * Show newline and space characters so they can be more easily visually diffed
 */
function showHiddenChars(a) {
    return a
        .replace(/\r/g, '(\\r)\r')
        .replace(/\n/g, '(\\n)\n')
        .replace(/ /g, 'Ë½');
}
//# sourceMappingURL=diff.js.map